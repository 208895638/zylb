(function(e){function t(t){for(var n,s,i=t[0],c=t[1],u=t[2],l=0,p=[];l<i.length;l++)s=i[l],a[s]&&p.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);f&&f(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,s=1;s<r.length;s++){var c=r[s];0!==a[c]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},o=[];function s(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"f2b190ae"}[e]+".js"}function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],r=a[e];if(0!==r)if(r)t.push(r[2]);else{var n=new Promise(function(t,n){r=a[e]=[t,n]});t.push(r[2]=n);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=s(e),o=function(t){c.onerror=c.onload=null,clearTimeout(u);var r=a[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+n+": "+o+")");s.type=n,s.request=o,r[1](s)}a[e]=void 0}};var u=setTimeout(function(){o({type:"timeout",target:c})},12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/zylb/car/",i.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var f=u;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"06a5":function(e,t,r){"use strict";var n=r("6a4c"),a=r.n(n);a.a},"1cb3":function(e,t,r){"use strict";var n=r("2bca"),a=r.n(n);a.a},2171:function(e,t,r){"use strict";var n=r("601d"),a=r.n(n);a.a},"2bca":function(e,t,r){},"42b2":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("dac5"),r("6e26"),r("9604"),r("df67");var n=r("6e6d"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main",attrs:{id:"app"}},[r("div",{staticClass:"box"},[r("transition",{attrs:{name:e.now}},[r("router-view")],1)],1),e.$route.meta.footerShow?r("div",{staticClass:"footer"},[r("van-tabbar",{attrs:{route:""}},[r("van-tabbar-item",{attrs:{replace:"",to:"/",icon:"home-o"}},[e._v("\n    首页\n  ")]),r("van-tabbar-item",{attrs:{replace:"",to:"/car",icon:"search"}},[e._v("\n    购物车\n  ")]),r("van-tabbar-item",{attrs:{replace:"",to:"/user",icon:"search"}},[e._v("\n    个人信息\n  ")])],1)],1):e._e()])},o=[],s=(r("7bc1"),{data:function(){return{now:"left"}},watch:{$route:function(e,t){var r=e.path.split("/").length,n=t.path.split("/").length;this.now=r<n?"right":"left"}}}),i=s,c=(r("5c0b"),r("8605"),r("6691")),u=Object(c["a"])(i,a,o,!1,null,"018c990f",null),l=u.exports,f=r("8b48"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("h2",[e._v("商品列表")]),r("indexs",{staticClass:"main"})],1)},d=[],m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main"},[r("ul",e._l(e.list,function(t){return r("router-link",{key:t.id,attrs:{to:"/info/"+t.id,tag:"li"}},[r("img",{attrs:{src:t.img,alt:""}}),r("p",[e._v(e._s(t.title))])])}),1)])},v=[],b=(r("2338"),r("f763"),r("fb37"),r("a506")),h=r("591a");function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(r,!0).forEach(function(t){Object(b["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var y={data:function(){return{}},computed:O({},Object(h["c"])({list:function(e){return e.car.list}})),created:function(){}},j=y,C=(r("2171"),Object(c["a"])(j,m,v,!1,null,"149dc7e8",null)),w=C.exports,P={name:"home",components:{indexs:w}},_=P,k=(r("fc74"),Object(c["a"])(_,p,d,!1,null,"55831b16",null)),S=k.exports,$=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"box"},[0==e.userCar.length?r("div",[e._v("\n        暂时没有上去 去首页购买吧\n    ")]):r("div",{staticClass:"main"},[r("div",{staticClass:"top"},[r("ul",e._l(e.userCar,function(t){return r("li",{key:t.id},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.isChecked,expression:"item.isChecked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isChecked)?e._i(t.isChecked,null)>-1:t.isChecked},on:{change:function(r){var n=t.isChecked,a=r.target,o=!!a.checked;if(Array.isArray(n)){var s=null,i=e._i(n,s);a.checked?i<0&&e.$set(t,"isChecked",n.concat([s])):i>-1&&e.$set(t,"isChecked",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(t,"isChecked",o)}}}),r("div",{staticClass:"c"},[e._v(e._s(t.val.title)+" "),r("span",[e._v("单价"+e._s(t.val.price)+"元")])]),r("div",{staticClass:"r"},[r("button",{attrs:{disabled:0==t.num},on:{click:function(r){return e.lower(t.id,t.val)}}},[e._v("-")]),r("div",[e._v(e._s(t.num))]),r("button",{attrs:{disabled:0==t.val.num.number},on:{click:function(r){return e.add(t.id,t.val)}}},[e._v("+")])])])}),0)]),r("div",{staticClass:"bot"},[r("div",[r("input",{attrs:{type:"checkbox"},domProps:{checked:e.isSelectAll},on:{click:e.selectAll}}),r("div",[e._v("全选")])]),r("div",[e._v("\n                总价"+e._s(e.userCarNum)+"元\n            ")])])])])},x=[];r("608b");function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(r,!0).forEach(function(t){Object(b["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var I={data:function(){return{selects:this.isSelectAll}},computed:E({},Object(h["c"])({userCar:function(e){return e.car.userCar},listLength:function(e){var t=e.car.list.find(function(e){return e.id==that.$route.params.id}).num.number;return t},isSelectAll:function(e){return 0!=e.car.userCar.length&&e.car.userCar.every(function(e){return 1==e.isChecked})}}),{userCarNum:function(){return console.log(this.$store.getters["car/userCarNum"],6666),this.$store.getters["car/userCarNum"]}}),methods:{selectAll:function(){this.$store.commit("car/updateUserCar",!this.isSelectAll),console.log(this.isSelectAll)},lower:function(e,t){var r=-1;this.$store.commit("car/addCar",{id:e,num:r,val:t})},add:function(e,t){var r=1;this.$store.commit("car/addCar",{id:e,num:r,val:t})}},created:function(){console.log(this.userCar)}},A=I,L=(r("06a5"),Object(c["a"])(A,$,x,!1,null,"3035768e",null)),N=L.exports,T=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[""==e.userInfo.username?r("div",{staticClass:"login"},[r("van-cell-group",[r("van-field",{attrs:{required:"",clearable:"",label:"用户名","right-icon":"question-o",placeholder:"请输入用户名"},on:{"click-right-icon":function(t){return e.$toast("question")}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),r("van-field",{attrs:{type:"password",label:"密码",placeholder:"请输入密码",required:""},model:{value:e.userpass,callback:function(t){e.userpass=t},expression:"userpass"}})],1),r("van-button",{staticClass:"btns",attrs:{size:"large",round:""},on:{click:e.logins}},[e._v("登陆")])],1):r("div",{staticClass:"logout"},[r("van-cell-group",[r("van-cell",{attrs:{title:"用户名",value:e.userInfo.username}}),r("van-cell",{attrs:{title:"用户密码",value:e.userInfo.userpass}})],1),r("van-button",{staticClass:"btns",attrs:{size:"large",round:""},on:{click:e.logout}},[e._v("退出登陆")])],1)])},q=[];r("7364");function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(r,!0).forEach(function(t){Object(b["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var M,R={data:function(){return{username:"",userpass:""}},computed:J({},Object(h["c"])({userInfo:function(e){return e.user.userInfo}})),methods:J({},Object(h["b"])({login:"user/login"}),{logins:function(){var e=this.$router.options.routes,t=e.find(function(e){return"car"==e.name});t.meta.isLogin=!0;var r=this.username,n=this.userpass;this.login({username:r,userpass:n}),console.log(t,this.$router.options.routes)},logout:function(){this.userInfo.username="",this.userInfo.userpass="";var e=this.$router.options.routes,t=e.find(function(e){return"car"==e.name});t.meta.isLogin=!1,localStorage.clear()}}),created:function(){}},U=R,B=(r("1cb3"),Object(c["a"])(U,T,q,!1,null,null,null)),F=B.exports,G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main"},[r("van-nav-bar",{attrs:{title:e.list.title,"left-arrow":""},on:{"click-left":function(t){return e.$router.go(-1)}}}),r("div",{staticClass:"box"},[r("van-pull-refresh",{staticClass:"aa",on:{refresh:e.onRefresh},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}},[r("div",{staticClass:"top"},[r("img",{attrs:{src:e.list.img,alt:""}})]),r("div",{staticClass:"商品详情"},[e._v("\n                "+e._s(e.list.info)+"\n            ")]),r("div",[e._v("\n                剩余数量"),r("span",[e._v(e._s(e.list.num.number))])])])],1),r("van-button",{staticClass:"fix",attrs:{type:"primary",size:"large",disabled:0==e.listLength},on:{click:function(t){return e.addCar(e.list)}}},[e._v(" 加入购物车( "+e._s(e.userCar)+" )    ")])],1)},H=[];function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(r,!0).forEach(function(t){Object(b["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var V={data:function(){return{img:"",info:"",title:"",num:"",count:0,isLoading:!1}},computed:Q({},Object(h["c"])({list:function(e){return e.car.list.find(function(e){return e.id==M.$route.params.id})},listLength:function(e){var t=e.car.list.find(function(e){return e.id==M.$route.params.id}).num.number;return t},userCar:function(e){return e.car.userCar.reduce(function(e,t){return parseInt(e)+parseInt(t.num)},0)}})),methods:{onRefresh:function(){var e=this;setTimeout(function(){e.$toast("刷新成功"),e.isLoading=!1,e.count++},500)},addCar:function(e){var t=1,r=this.$route.params.id;this.$store.commit("car/addCar",{id:r,num:t,val:e})}},created:function(){M=this}},W=V,X=(r("8961"),Object(c["a"])(W,G,H,!1,null,"3bd5383b",null)),Y=X.exports;n["a"].use(f["a"]);var Z=new f["a"]({mode:"hash",base:"/zylb/car/",linkActiveClass:"r-active",routes:[{path:"/",name:"home",component:S,meta:{footerShow:!0}},{path:"/info/:id",name:"info",component:Y,meta:{footerShow:!1}},{path:"/car",name:"car",component:N,meta:{footerShow:!0,isLogin:!1}},{path:"/user",name:"user",component:F,meta:{footerShow:!0}},{path:"/about",name:"about",component:function(){return r.e("about").then(r.bind(null,"f820"))},meta:{footerShow:!0}}]}),ee=r("fddc"),te=r.n(ee);function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(r,!0).forEach(function(t){Object(b["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}for(var ae=te.a.Random,oe=[],se=0;se<10;se++){var ie=te.a.mock({"price|1-100":100}),ce=ne({id:ae.guid(),img:ae.dataImage("200x100"),num:te.a.mock({"number|1-5":100}),title:ae.ctitle(),info:ae.cparagraph()},ie);oe.push(ce)}var ue={state:{list:oe,userCar:[],total:0},mutations:{addCar:function(e,t){var r=t.id,n=t.num,a=t.val,o=e.userCar.find(function(e){return e.id==r});if(o)o.num=o.num+n;else{var s={id:r,num:1,val:a,isChecked:!1};e.userCar.push(s)}var i=e.list.find(function(e){return e.id==r});i.num.number=i.num.number-n},updateUserCar:function(e,t){e.userCar.forEach(function(e){e.isChecked=t})}},actions:{},getters:{getInfo:function(e){return function(t){var r=e.list.find(function(e){return e.id==t});return r}},userCarNum:function(e){var t=e.userCar.reduce(function(e,t){return t.isChecked?e+t.num*t.val.price:e},0);return t}},namespaced:!0},le={state:{userInfo:{username:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).user:"",userpass:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).pass:""}},mutations:{},actions:{login:function(e,t){var r=e.state,n=t.username,a=t.userpass;console.log(n,a),r.userInfo.username=n,r.userInfo.userpass=a;var o={user:n,pass:a};localStorage.setItem("user",JSON.stringify(o))}},getters:{},namespaced:!0};n["a"].use(h["a"]);var fe=new h["a"].Store({modules:{car:ue,user:le}}),pe=r("379e");r("f15a");n["a"].config.productionTip=!1,n["a"].prototype.mock=te.a,n["a"].use(pe["a"]),Z.beforeEach(function(e,t,r){console.log(e.meta),"/car"==e.path?localStorage.getItem("user")?r():(alert("暂未登陆 即将跳转登陆页"),r("/user")):r()}),new n["a"]({router:Z,store:fe,render:function(e){return e(l)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";var n=r("ca9d"),a=r.n(n);a.a},"601d":function(e,t,r){},"6a4c":function(e,t,r){},8605:function(e,t,r){"use strict";var n=r("42b2"),a=r.n(n);a.a},8961:function(e,t,r){"use strict";var n=r("fcf1"),a=r.n(n);a.a},bb41:function(e,t,r){},ca9d:function(e,t,r){},fc74:function(e,t,r){"use strict";var n=r("bb41"),a=r.n(n);a.a},fcf1:function(e,t,r){}});
//# sourceMappingURL=app.7248a4d8.js.map