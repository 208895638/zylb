(function(t){function e(e){for(var n,i,s=e[0],c=e[1],u=e[2],l=0,p=[];l<s.length;l++)i=s[l],a[i]&&p.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);f&&f(e);while(p.length)p.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],n=!0,i=1;i<r.length;i++){var c=r[i];0!==a[c]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=r[0]))}return t}var n={},a={app:0},o=[];function i(t){return s.p+"js/"+({about:"about"}[t]||t)+"."+{about:"f2b190ae"}[t]+".js"}function s(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.e=function(t){var e=[],r=a[t];if(0!==r)if(r)e.push(r[2]);else{var n=new Promise(function(e,n){r=a[t]=[e,n]});e.push(r[2]=n);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=i(t),o=function(e){c.onerror=c.onload=null,clearTimeout(u);var r=a[t];if(0!==r){if(r){var n=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src,i=new Error("Loading chunk "+t+" failed.\n("+n+": "+o+")");i.type=n,i.request=o,r[1](i)}a[t]=void 0}};var u=setTimeout(function(){o({type:"timeout",target:c})},12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(e)},s.m=t,s.c=n,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/zylb/car/",s.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var f=u;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"06a5":function(t,e,r){"use strict";var n=r("6a4c"),a=r.n(n);a.a},"1cb3":function(t,e,r){"use strict";var n=r("2bca"),a=r.n(n);a.a},2171:function(t,e,r){"use strict";var n=r("601d"),a=r.n(n);a.a},"2bca":function(t,e,r){},"42b2":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("dac5"),r("6e26"),r("9604"),r("df67");var n=r("6e6d"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main",attrs:{id:"app"}},[r("div",{staticClass:"box"},[r("transition",{attrs:{name:t.now}},[r("router-view")],1)],1),t.$route.meta.footerShow?r("div",{staticClass:"footer"},[r("van-tabbar",{attrs:{route:""}},[r("van-tabbar-item",{attrs:{replace:"",to:"/",icon:"home-o"}},[t._v("\n    首页\n  ")]),r("van-tabbar-item",{attrs:{replace:"",to:"/car",icon:"search"}},[t._v("\n    购物车\n  ")]),r("van-tabbar-item",{attrs:{replace:"",to:"/user",icon:"search"}},[t._v("\n    个人信息\n  ")])],1)],1):t._e()])},o=[],i=(r("7bc1"),{data:function(){return{now:"left"}},watch:{$route:function(t,e){var r=t.path.split("/").length,n=e.path.split("/").length;this.now=r<n?"right":"left"}}}),s=i,c=(r("5c0b"),r("8605"),r("6691")),u=Object(c["a"])(s,a,o,!1,null,"018c990f",null),l=u.exports,f=r("8b48"),p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home"},[r("h2",[t._v("商品列表")]),r("indexs",{staticClass:"main"})],1)},d=[],m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main"},[r("ul",t._l(t.list,function(e){return r("router-link",{key:e.id,attrs:{to:"/info/"+e.id,tag:"li"}},[r("img",{attrs:{src:e.img,alt:""}}),r("p",[t._v(t._s(e.title))])])}),1)])},v=[],b=(r("2338"),r("f763"),r("fb37"),r("a506")),h=r("591a");function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function O(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(r,!0).forEach(function(e){Object(b["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var y={data:function(){return{}},computed:O({},Object(h["c"])({list:function(t){return t.car.list}})),created:function(){}},j=y,C=(r("2171"),Object(c["a"])(j,m,v,!1,null,"149dc7e8",null)),w=C.exports,P={name:"home",components:{indexs:w}},_=P,k=(r("fc74"),Object(c["a"])(_,p,d,!1,null,"55831b16",null)),$=k.exports,S=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"box"},[0==t.userCar.length?r("div",[t._v("\n        暂时没有上去 去首页购买吧\n    ")]):r("div",{staticClass:"main"},[r("div",{staticClass:"top"},[r("ul",t._l(t.userCar,function(e){return r("li",{key:e.id},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.isChecked,expression:"item.isChecked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isChecked)?t._i(e.isChecked,null)>-1:e.isChecked},on:{change:function(r){var n=e.isChecked,a=r.target,o=!!a.checked;if(Array.isArray(n)){var i=null,s=t._i(n,i);a.checked?s<0&&t.$set(e,"isChecked",n.concat([i])):s>-1&&t.$set(e,"isChecked",n.slice(0,s).concat(n.slice(s+1)))}else t.$set(e,"isChecked",o)}}}),r("div",{staticClass:"c"},[t._v(t._s(e.val.title)+" "),r("span",[t._v("单价"+t._s(e.val.price)+"元")])]),r("div",{staticClass:"r"},[r("button",{attrs:{disabled:0==e.num},on:{click:function(r){return t.lower(e.id,e.val)}}},[t._v("-")]),r("div",[t._v(t._s(e.num))]),r("button",{attrs:{disabled:0==e.val.num.number},on:{click:function(r){return t.add(e.id,e.val)}}},[t._v("+")])])])}),0)]),r("div",{staticClass:"bot"},[r("div",[r("input",{attrs:{type:"checkbox"},domProps:{checked:t.isSelectAll},on:{click:t.selectAll}}),r("div",[t._v("全选")])]),r("div",[t._v("\n                总价"+t._s(t.userCarNum)+"元\n            ")])])])])},x=[];r("608b");function D(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function E(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?D(r,!0).forEach(function(e){Object(b["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var I={data:function(){return{selects:this.isSelectAll}},computed:E({},Object(h["c"])({userCar:function(t){return t.car.userCar},listLength:function(t){var e=t.car.list.find(function(t){return t.id==that.$route.params.id}).num.number;return e},isSelectAll:function(t){return 0!=t.car.userCar.length&&t.car.userCar.every(function(t){return 1==t.isChecked})}}),{userCarNum:function(){return console.log(this.$store.getters["car/userCarNum"],6666),this.$store.getters["car/userCarNum"]}}),methods:{selectAll:function(){this.$store.commit("car/updateUserCar",!this.isSelectAll),console.log(this.isSelectAll)},lower:function(t,e){var r=-1;this.$store.commit("car/addCar",{id:t,num:r,val:e})},add:function(t,e){var r=1;this.$store.commit("car/addCar",{id:t,num:r,val:e})}},created:function(){console.log(this.userCar)}},A=I,L=(r("06a5"),Object(c["a"])(A,S,x,!1,null,"3035768e",null)),N=L.exports,T=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[""==t.userInfo.username?r("div",{staticClass:"login"},[r("van-cell-group",[r("van-field",{attrs:{required:"",clearable:"",label:"用户名","right-icon":"question-o",placeholder:"请输入用户名"},on:{"click-right-icon":function(e){return t.$toast("question")}},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),r("van-field",{attrs:{type:"password",label:"密码",placeholder:"请输入密码",required:""},model:{value:t.userpass,callback:function(e){t.userpass=e},expression:"userpass"}})],1),r("van-button",{staticClass:"btns",attrs:{size:"large",round:""},on:{click:t.logins}},[t._v("登陆")])],1):r("div",{staticClass:"logout"},[r("van-cell-group",[r("van-cell",{attrs:{title:"用户名",value:t.userInfo.username}}),r("van-cell",{attrs:{title:"用户密码",value:t.userInfo.userpass}})],1),r("van-button",{staticClass:"btns",attrs:{size:"large",round:""},on:{click:t.logout}},[t._v("退出登陆")])],1)])},q=[];r("7364");function z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function M(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?z(r,!0).forEach(function(e){Object(b["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var R,J={data:function(){return{username:"",userpass:""}},computed:M({},Object(h["c"])({userInfo:function(t){return t.user.userInfo}})),methods:M({},Object(h["b"])({login:"user/login"}),{logins:function(){var t=this.$router.options.routes,e=t.find(function(t){return"car"==t.name});e.meta.isLogin=!0;var r=this.username,n=this.userpass;this.login({username:r,userpass:n}),console.log(e,this.$router.options.routes)},logout:function(){this.userInfo.username="",this.userInfo.userpass="";var t=this.$router.options.routes,e=t.find(function(t){return"car"==t.name});e.meta.isLogin=!1}}),created:function(){}},U=J,B=(r("1cb3"),Object(c["a"])(U,T,q,!1,null,null,null)),F=B.exports,G=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main"},[r("van-nav-bar",{attrs:{title:t.list.title,"left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),r("div",{staticClass:"box"},[r("van-pull-refresh",{staticClass:"aa",on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[r("div",{staticClass:"top"},[r("img",{attrs:{src:t.list.img,alt:""}})]),r("div",{staticClass:"商品详情"},[t._v("\n                "+t._s(t.list.info)+"\n            ")]),r("div",[t._v("\n                剩余数量"),r("span",[t._v(t._s(t.list.num.number))])])])],1),r("van-button",{staticClass:"fix",attrs:{type:"primary",size:"large",disabled:0==t.listLength},on:{click:function(e){return t.addCar(t.list)}}},[t._v(" 加入购物车( "+t._s(t.userCar)+" )    ")])],1)},H=[];function K(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Q(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?K(r,!0).forEach(function(e){Object(b["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var V={data:function(){return{img:"",info:"",title:"",num:"",count:0,isLoading:!1}},computed:Q({},Object(h["c"])({list:function(t){return t.car.list.find(function(t){return t.id==R.$route.params.id})},listLength:function(t){var e=t.car.list.find(function(t){return t.id==R.$route.params.id}).num.number;return e},userCar:function(t){return t.car.userCar.reduce(function(t,e){return parseInt(t)+parseInt(e.num)},0)}})),methods:{onRefresh:function(){var t=this;setTimeout(function(){t.$toast("刷新成功"),t.isLoading=!1,t.count++},500)},addCar:function(t){var e=1,r=this.$route.params.id;this.$store.commit("car/addCar",{id:r,num:e,val:t})}},created:function(){R=this}},W=V,X=(r("8961"),Object(c["a"])(W,G,H,!1,null,"3bd5383b",null)),Y=X.exports;n["a"].use(f["a"]);var Z=new f["a"]({mode:"hash",base:"/zylb/car/",linkActiveClass:"r-active",routes:[{path:"/",name:"home",component:$,meta:{footerShow:!0}},{path:"/info/:id",name:"info",component:Y,meta:{footerShow:!1}},{path:"/car",name:"car",component:N,meta:{footerShow:!0,isLogin:!1}},{path:"/user",name:"user",component:F,meta:{footerShow:!0}},{path:"/about",name:"about",component:function(){return r.e("about").then(r.bind(null,"f820"))},meta:{footerShow:!0}}]}),tt=r("fddc"),et=r.n(tt);function rt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function nt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?rt(r,!0).forEach(function(e){Object(b["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rt(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}for(var at=et.a.Random,ot=[],it=0;it<10;it++){var st=et.a.mock({"price|1-100":100}),ct=nt({id:at.guid(),img:at.dataImage("200x100"),num:et.a.mock({"number|1-5":100}),title:at.ctitle(),info:at.cparagraph()},st);ot.push(ct)}var ut={state:{list:ot,userCar:[],total:0},mutations:{addCar:function(t,e){var r=e.id,n=e.num,a=e.val,o=t.userCar.find(function(t){return t.id==r});if(o)o.num=o.num+n;else{var i={id:r,num:1,val:a,isChecked:!1};t.userCar.push(i)}var s=t.list.find(function(t){return t.id==r});s.num.number=s.num.number-n},updateUserCar:function(t,e){t.userCar.forEach(function(t){t.isChecked=e})}},actions:{},getters:{getInfo:function(t){return function(e){var r=t.list.find(function(t){return t.id==e});return r}},userCarNum:function(t){var e=t.userCar.reduce(function(t,e){return e.isChecked?t+e.num*e.val.price:t},0);return e}},namespaced:!0},lt={state:{userInfo:{username:"",userpass:""}},mutations:{},actions:{login:function(t,e){var r=t.state,n=e.username,a=e.userpass;console.log(n,a),r.userInfo.username=n,r.userInfo.userpass=a}},getters:{},namespaced:!0};n["a"].use(h["a"]);var ft=new h["a"].Store({modules:{car:ut,user:lt}}),pt=r("379e");r("f15a");n["a"].config.productionTip=!1,n["a"].prototype.mock=et.a,n["a"].use(pt["a"]),Z.beforeEach(function(t,e,r){console.log(t.meta),0==t.meta.isLogin?(alert("暂未登陆 即将跳转登陆页"),r("/user")):r()}),new n["a"]({router:Z,store:ft,render:function(t){return t(l)}}).$mount("#app")},"5c0b":function(t,e,r){"use strict";var n=r("ca9d"),a=r.n(n);a.a},"601d":function(t,e,r){},"6a4c":function(t,e,r){},8605:function(t,e,r){"use strict";var n=r("42b2"),a=r.n(n);a.a},8961:function(t,e,r){"use strict";var n=r("fcf1"),a=r.n(n);a.a},bb41:function(t,e,r){},ca9d:function(t,e,r){},fc74:function(t,e,r){"use strict";var n=r("bb41"),a=r.n(n);a.a},fcf1:function(t,e,r){}});
//# sourceMappingURL=app.a1f89688.js.map